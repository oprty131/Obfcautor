<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonsec Dumper</title>
</head>
<body>
    <h1>Moonsec / LuaObfuscator Dumper</h1>

    <textarea id="inputScript" rows="10" cols="50" placeholder="Paste your script here..."></textarea><br>
    <button onclick="dumpScript()">Dump Script</button>

    <h2>Output:</h2>
    <pre id="output"></pre>

    <script>
        // Function to format the script (similar to Lua table formatting)
        function formatObject(obj) {
            let result = "{";
            for (let key in obj) {
                if (typeof obj[key] === "object") {
                    result += formatObject(obj[key]);
                } else {
                    result += `\n'Index: ${key}' | 'Value: ${obj[key]}', `;
                }
            }
            result = result.slice(0, -2) + "\n},\n"; // Remove last comma and add closing brace
            return result;
        }

        // Main function to dump the script
        function dumpScript() {
            const script = document.getElementById('inputScript').value;
            let parsedScript;

            try {
                // Attempt to parse the script (assuming it's JSON-like format for demonstration)
                parsedScript = JSON.parse(script);
            } catch (e) {
                document.getElementById('output').innerText = "Invalid script format. Make sure it's JSON.";
                return;
            }

            // Process the script and dump it
            const output = formatObject(parsedScript);
            document.getElementById('output').innerText = output;
        }
    </script>
</body>
</html>
